<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/bootstrap/bootstrap-theme.min.css" />
		<link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
		<script type="text/javascript" src="js/jquery-3.2.1.min.js" ></script>
		<script type="text/javascript" src="js/bootstrap/bootstrap.min.js" ></script>
		<script>
			function Page(totalPageNum){
				this.totalPageNum = totalPageNum;
				this.curPageNum = 1;
				this.maxPageNum = totalPageNum > this.maxPageNum ? 5 : totalPageNum;;
				this.curMaxPageNum = this.maxPageNum;
			}
			
			 function nextPage(page){
					page.curPageNum = (page.curPageNum + 1) <= page.totalPageNum ?
									   page.curPageNum + 1 :
									   page.curPageNum;
					flushPageElem(page);
				}
			
			function lastPage(page){
					page.curPageNum = (page.curPageNum - 1) > 0?
									   page.curPageNum - 1 :
									   page.curPageNum;
					flushPageElem(page);
			}
			
			function toPage(page, toPageNum){
					page.curPageNum = toPageNum;
					flushPageElem(page);
			}
			
			 function createPageElem(page){
					var $page = $(".pagination");
					$page.html("<li class='last-page'><a href='#'>&laquo;</a></li>");
					for(var i = 1 ; i <= page.curMaxPageNum; i++){
						$page.append("<li class='to-page'><a href='#'>"+i+"</a></li>");
					}
					$page.children().eq(1).addClass("active");
					$page.append("<li class='next-page'><a href='#'>&raquo;</a></li>");
				}
			
			 function flushPageElem(page){
				var $page = $(".pagination");
				var defVal = (page.curPageNum + 2) - page.curMaxPageNum;
				if(defVal != 0){
					var tmp = page.curMaxPageNum + defVal;
					page.curMaxPageNum = tmp > page.totalPageNum ? page.totalPageNum : tmp;
					page.curMaxPageNum = tmp < page.maxPageNum ? page.maxPageNum : page.curMaxPageNum;
					for(var i = page.curMaxPageNum - page.maxPageNum + 1, j = 1; i <= page.curMaxPageNum; i++, j++){
						$page.children().eq(j).children().text(i);
					}
				}
				
				$page.children().each(function(){
					$(this).removeClass("active");
					if(	$(this).children().text() == page.curPageNum){
						$(this).addClass("active");
					}
				});
			  }
			
			$(function(){
				var page = new Page(4);
				createPageElem(page);
				
				$(".next-page").click(function(){
					nextPage(page);
				});
				
				$(".last-page").click(function(){
					lastPage(page);
				});
				
				$(".to-page").click(function(){
					var toPageNum = parseInt($(this).children().text());
					toPage(page, toPageNum);
				});
			});
		</script>
		<style>
			.active{
				background-color: #737373;
			}
			.my-style:focus{
				background-color: #FFFFFF;
			}
			.my-style:hover{
				background-color: #FFFFFF;
			}
		</style>
	</head>
	<body>
		<ul class="pagination my-style">
		</ul>
	</body>
</html>
